!function(){"use strict";angular.module("vizbox",["ngAnimate","ngSanitize","ngMessages","ngAria","ngRoute","ui.bootstrap","toastr"])}(),function(){"use strict";function a(){var a={restrict:"E",replace:!0,scope:{rows:"=rows",chartId:"=chartId"},link:function(a,t,e){var n='<div id="'+a.chartId+'"></div>';t.html(n);var r=c3.generate({bindto:"#"+a.chartId,data:{columns:a.rows,type:"pie",colors:{d1:"#73C2FB",d2:"#1F75FE",d3:"#0247FE",d4:"#4F86F7"}}});a.$watch("rows",function(){r.load({columns:a.rows})})}};return a}angular.module("vizbox").directive("pieChart",a)}(),function(){"use strict";function a(){function a(a){var t=this;t.relativeDate=a(t.creationDate).fromNow()}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:a,controllerAs:"vm",bindToController:!0};return a.$inject=["moment"],t}angular.module("vizbox").directive("acmeNavbar",a)}(),function(){"use strict";function a(){var a={restrict:"E",replace:!0,scope:{chartId:"=chartId",geoLocation:"=geoLocation"},link:function(a,t,e){function n(){d.style("fill",function(a,t){var e=[Math.floor(10*Math.random()+5),Math.floor(20*Math.random()+40),Math.floor(155*Math.random()+100)];return"rgb("+e[0]+","+e[1]+","+e[2]+")"})}function r(){i=t[0].parentNode.clientWidth,i=i-p.left-p.right,c=i*h,c>320&&(c=310),l.translate([i/2,c/2]).scale(i/1.2),v.style("width",i+"px").style("height",c+"px"),v.selectAll(".land").attr("d",b),v.selectAll(".state").attr("d",b)}function o(a,t){var e=d3.select(this).style("fill"),n=a.id+"";a.id<10&&(n="0"+n);var r=m[n],o=r.name;r&&(A=d3.select(this.parentNode).append("text"),A.attr("x",15).attr("y",30).text(o+": "+e).attr("font-family","sans-serif").attr("font-size","15px").style("fill","red"))}function s(a,t){A.remove()}var i,c,l,b,d,m={10:{stateAbbr:"DE",name:"Delaware"},11:{stateAbbr:"DC",name:"District of Columbia"},12:{stateAbbr:"FL",name:"Florida"},13:{stateAbbr:"GA",name:"Georgia"},15:{stateAbbr:"HI",name:"Hawaii"},16:{stateAbbr:"ID",name:"Idaho"},17:{stateAbbr:"IL",name:"Illinois"},18:{stateAbbr:"IN",name:"Indiana"},19:{stateAbbr:"IA",name:"Iowa"},20:{stateAbbr:"KS",name:"Kansas"},21:{stateAbbr:"KY",name:"Kentucky"},22:{stateAbbr:"LA",name:"Louisiana"},23:{stateAbbr:"ME",name:"Maine"},24:{stateAbbr:"MD",name:"Maryland"},25:{stateAbbr:"MA",name:"Massachusetts"},26:{stateAbbr:"MI",name:"Michigan"},27:{stateAbbr:"MN",name:"Minnesota"},28:{stateAbbr:"MS",name:"Mississippi"},29:{stateAbbr:"MO",name:"Missouri"},30:{stateAbbr:"MT",name:"Montana"},31:{stateAbbr:"NE",name:"Nebraska"},32:{stateAbbr:"NV",name:"Nevada"},33:{stateAbbr:"NH",name:"New Hampshire"},34:{stateAbbr:"NJ",name:"New Jersey"},35:{stateAbbr:"NM",name:"New Mexico"},36:{stateAbbr:"NY",name:"New York"},37:{stateAbbr:"NC",name:"North Carolina"},38:{stateAbbr:"ND",name:"North Dakota"},39:{stateAbbr:"OH",name:"Ohio"},40:{stateAbbr:"OK",name:"Oklahoma"},41:{stateAbbr:"OR",name:"Oregon"},42:{stateAbbr:"PA",name:"Pennsylvania"},44:{stateAbbr:"RI",name:"Rhode Island"},45:{stateAbbr:"SC",name:"South Carolina"},46:{stateAbbr:"SD",name:"South Dakota"},47:{stateAbbr:"TN",name:"Tennessee"},48:{stateAbbr:"TX",name:"Texas"},49:{stateAbbr:"UT",name:"Utah"},50:{stateAbbr:"VT",name:"Vermont"},51:{stateAbbr:"VA",name:"Virginia"},53:{stateAbbr:"WA",name:"Washington"},54:{stateAbbr:"WV",name:"West Virginia"},55:{stateAbbr:"WI",name:"Wisconsin"},56:{stateAbbr:"WY",name:"Wyoming"},60:{stateAbbr:"AS",name:"American Samoa"},66:{stateAbbr:"GU",name:"Guam"},69:{stateAbbr:"MP",name:"Northern Mariana Islands"},72:{stateAbbr:"PR",name:"Puerto Rico"},74:{stateAbbr:"UM",name:"U.S. Minor Outlying Islands"},78:{stateAbbr:"VI",name:"U.S. Virgin Islands"},"01":{stateAbbr:"AL",name:"Alabama"},"02":{stateAbbr:"AK",name:"Alaska"},"04":{stateAbbr:"AZ",name:"Arizona"},"05":{stateAbbr:"AR",name:"Arkansas"},"06":{stateAbbr:"CA",name:"California"},"08":{stateAbbr:"CO",name:"Colorado"},"09":{stateAbbr:"CT",name:"Connecticut"}},u=a.geoLocation.data,p={top:5,left:5,bottom:5,right:5},h=1.1;i=t[0].parentNode.clientWidth,i=i-p.left-p.right,c=Math.round(i*h),c>320&&(c=310),l=d3.geo.albersUsa().scale(i/1.2).translate([i/2,c/2]),b=d3.geo.path().projection(l);var v=d3.select(t[0].parentNode).append("svg").attr({width:i,height:c}),d=v.selectAll("path.state").data(topojson.feature(u,u.objects.states).features).enter().append("path").attr("class","state").attr("id",function(a){var t=a.id+"";a.id<10&&(t="0"+t);var e=m[t].name.toLowerCase().replace(/\s/g,"-");return e}).attr("d",b);d.on("mouseover",o).on("mouseout",s),v.append("path").datum(topojson.mesh(u,u.objects.states)).attr("class","land").attr("d",b),n();setInterval(function(){n()},3e3);d3.select(window).on("resize",r);var A}};return a}angular.module("vizbox").directive("geoChart",a)}(),function(){"use strict";function a(a,t,e,n){function r(a,t,e,n){var r=[];r.push(a);for(var o=0;t>o;o++){var s=e+(.5-Math.random())*n;r.push(s)}return r}a.geoChartId="geo",a.geoLocation=n,a.pieChartId="piechart",a.pieRows=[["d1",40,50,60,70,80,90],["d2",25,26,24,28,23,22],["d3",90,70,100,55,70,54],["d4",35,10,5,40,40,20]],a.pieInterval=e(function(){var t=[];t.push(r("d1",6,50,30)),t.push(r("d2",6,25,20)),t.push(r("d3",6,80,20)),t.push(r("d4",6,25,20)),a.pieRows=t},2e3)}angular.module("vizbox").controller("MainController",a),a.$inject=["$scope","$http","$interval","geoLocation"]}(),function(){"use strict";function a(a){a.debug("runBlock end"),a.debug("check c3",c3),a.debug("check topojson",topojson)}angular.module("vizbox").run(a),a.$inject=["$log"]}(),function(){"use strict";function a(a){a.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main",resolve:{geoLocation:["$http",function(a){return a.get("app/data/us.json").success(function(a){return a.data})}]}}).otherwise({redirectTo:"/"})}angular.module("vizbox").config(a),a.$inject=["$routeProvider"]}(),function(){"use strict";angular.module("vizbox").constant("moment",moment).constant("d3",d3).constant("c3",c3).constant("topojson",topojson)}(),function(){"use strict";function a(a,t){a.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}angular.module("vizbox").config(a),a.$inject=["$logProvider","toastrConfig"]}(),angular.module("vizbox").run(["$templateCache",function(a){a.put("app/main/main.html",'<div class="container"><div><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="row"><div class="col-sm-6 col-md-8"><div class="thumbnail"><geo-chart chart-id="geoChartId" geo-location="geoLocation"></geo-chart></div></div><div class="col-sm-6 col-md-4"><div class="thumbnail"><pie-chart rows="pieRows" chart-id="pieChartId"></pie-chart></div></div></div></div>'),a.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href=""><span class="glyphicon glyphicon-flash"></span></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-9a68302dd4.js.map