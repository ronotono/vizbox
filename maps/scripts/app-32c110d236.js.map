{"version":3,"sources":["scripts/app-32c110d236.js"],"names":["angular","module","pieChart","directive","restrict","replace","scope","rows","chartId","link","element","attrs","template","html","chart","c3","generate","bindto","data","columns","type","colors","d1","d2","d3","d4","$watch","load","acmeNavbar","NavbarController","moment","vm","this","relativeDate","creationDate","fromNow","templateUrl","controller","controllerAs","bindToController","$inject","lineChart","padding","top","right","x","axis","tick","fit","y","max","min","bottom","outer","count","grid","show","duration","geoChart","geoLocation","renderColor","states","style","d","i","randomColor","Math","floor","random","resize","width","parentNode","clientWidth","margin","left","height","mapRatio","projection","translate","scale","map","selectAll","attr","path","tooltipShow","color","select","code","id","datum","stateCode","stateName","name","tooltip","append","text","tooltipHide","remove","10","stateAbbr","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56","60","66","69","72","74","78","01","02","04","05","06","08","09","us","round","geo","albersUsa","topojson","feature","objects","features","enter","toLowerCase","on","mesh","setInterval","window","barChart","months","index","bar","ratio","format","console","log","slice","legend","title","value","toFixed","MainController","$scope","$http","$interval","pieDataCreator","length","array","average","variance","setAverageAndVariance","setLength","getData","_this","Object","keys","key","push","getNumber","lineDataCreator","xData","d1Data","d2Data","getInitialArray","number","getUpdatedArray","splice","geoChartId","pieChartId","pieData","pieRows","pieInterval","barChartId","barRows","lineChartId","lineData","lineRows","lineInterval","runBlock","$log","debug","run","routeConfig","$routeProvider","when","resolve","get","success","response","otherwise","redirectTo","config","constant","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-32c110d236.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('vizbox', ['ngAnimate', 'ngSanitize', 'ngMessages', 'ngAria', 'ngRoute', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .directive('pieChart', pieChart);\n\n    /** @ngInject */\n\n    function pieChart() {\n      var directive = {\n          restrict: 'E',\n          replace: true,\n          scope: { rows : '=rows', chartId : '=chartId'},\n          link: function(scope,element,attrs) {\n\n            var template = '<div id=\"'+scope.chartId+'\"></div>';\n            element.html(template);\n\n            var chart = c3.generate({\n                            bindto: '#' + scope.chartId,\n                            data: {\n                              columns: scope.rows,\n                              type:'pie',\n                              colors: {\n                                d1:'#73C2FB',\n                                d2:'#1F75FE',\n                                d3:'#0247FE',\n                                d4:'#4F86F7'\n                              }\n                            }\n                        });\n\n            scope.$watch('rows',function() {\n                 chart.load({columns: scope.rows});\n            });\n\n          }\n      };\n\n      return directive;\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .directive('lineChart', lineChart);\n\n    /** @ngInject */\n\n    function lineChart() {\n      var directive = {\n          restrict: 'E',\n          replace: true,\n          scope: { rows : '=rows', chartId : '=chartId'},\n          link: function(scope,element,attrs) {\n\n            var template = '<div id=\"'+scope.chartId+'\"></div>';\n            element.html(template);\n\n            var chart = c3.generate({\n                            bindto: '#' + scope.chartId,\n                            padding: {\n                              top:10,\n                              right:20\n                            },\n                            data: {\n                              x: 'x',\n                              columns: scope.rows,\n                              colors: {\n                                d1:'#0247FE',\n                                d2:'#73C2FB'\n                              }\n                            },\n\n                            axis: {\n                                x: {\n                                  type:'indexed',\n                                  tick: {\n                                    fit: false\n                                  }\n                                },\n                                y: {\n                                    max: 80,\n                                    min: 0,\n                                    padding: {\n                                        top: 0,\n                                        bottom:0\n                                    },\n                                    tick: {\n                                      outer:false,\n                                      count:5,\n                                      fit:true\n                                    }\n                                }\n\n                            },\n                            grid: {\n                               x: {\n                                   show: true\n                               },\n                               y: {\n                                   show: true\n                               }\n                           }\n                        });\n\n            scope.$watch('rows',function() {\n                chart.load({columns:scope.rows,duration:1500});\n            });\n\n          }\n      };\n\n      return directive;\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .directive('geoChart', geoChart);\n\n    /** @ngInject */\n\n    function geoChart() {\n      var directive = {\n          restrict: 'E',\n          replace: true,\n          scope: { chartId : '=chartId', geoLocation: '=geoLocation'},\n          link: function(scope,element,attrs) {\n              var stateCode = {\n                                \"10\": {\n                                  \"stateAbbr\": \"DE\",\n                                  \"name\": \"Delaware\"\n                                },\n                                \"11\": {\n                                  \"stateAbbr\": \"DC\",\n                                  \"name\": \"District of Columbia\"\n                                },\n                                \"12\": {\n                                  \"stateAbbr\": \"FL\",\n                                  \"name\": \"Florida\"\n                                },\n                                \"13\": {\n                                  \"stateAbbr\": \"GA\",\n                                  \"name\": \"Georgia\"\n                                },\n                                \"15\": {\n                                  \"stateAbbr\": \"HI\",\n                                  \"name\": \"Hawaii\"\n                                },\n                                \"16\": {\n                                  \"stateAbbr\": \"ID\",\n                                  \"name\": \"Idaho\"\n                                },\n                                \"17\": {\n                                  \"stateAbbr\": \"IL\",\n                                  \"name\": \"Illinois\"\n                                },\n                                \"18\": {\n                                  \"stateAbbr\": \"IN\",\n                                  \"name\": \"Indiana\"\n                                },\n                                \"19\": {\n                                  \"stateAbbr\": \"IA\",\n                                  \"name\": \"Iowa\"\n                                },\n                                \"20\": {\n                                  \"stateAbbr\": \"KS\",\n                                  \"name\": \"Kansas\"\n                                },\n                                \"21\": {\n                                  \"stateAbbr\": \"KY\",\n                                  \"name\": \"Kentucky\"\n                                },\n                                \"22\": {\n                                  \"stateAbbr\": \"LA\",\n                                  \"name\": \"Louisiana\"\n                                },\n                                \"23\": {\n                                  \"stateAbbr\": \"ME\",\n                                  \"name\": \"Maine\"\n                                },\n                                \"24\": {\n                                  \"stateAbbr\": \"MD\",\n                                  \"name\": \"Maryland\"\n                                },\n                                \"25\": {\n                                  \"stateAbbr\": \"MA\",\n                                  \"name\": \"Massachusetts\"\n                                },\n                                \"26\": {\n                                  \"stateAbbr\": \"MI\",\n                                  \"name\": \"Michigan\"\n                                },\n                                \"27\": {\n                                  \"stateAbbr\": \"MN\",\n                                  \"name\": \"Minnesota\"\n                                },\n                                \"28\": {\n                                  \"stateAbbr\": \"MS\",\n                                  \"name\": \"Mississippi\"\n                                },\n                                \"29\": {\n                                  \"stateAbbr\": \"MO\",\n                                  \"name\": \"Missouri\"\n                                },\n                                \"30\": {\n                                  \"stateAbbr\": \"MT\",\n                                  \"name\": \"Montana\"\n                                },\n                                \"31\": {\n                                  \"stateAbbr\": \"NE\",\n                                  \"name\": \"Nebraska\"\n                                },\n                                \"32\": {\n                                  \"stateAbbr\": \"NV\",\n                                  \"name\": \"Nevada\"\n                                },\n                                \"33\": {\n                                  \"stateAbbr\": \"NH\",\n                                  \"name\": \"New Hampshire\"\n                                },\n                                \"34\": {\n                                  \"stateAbbr\": \"NJ\",\n                                  \"name\": \"New Jersey\"\n                                },\n                                \"35\": {\n                                  \"stateAbbr\": \"NM\",\n                                  \"name\": \"New Mexico\"\n                                },\n                                \"36\": {\n                                  \"stateAbbr\": \"NY\",\n                                  \"name\": \"New York\"\n                                },\n                                \"37\": {\n                                  \"stateAbbr\": \"NC\",\n                                  \"name\": \"North Carolina\"\n                                },\n                                \"38\": {\n                                  \"stateAbbr\": \"ND\",\n                                  \"name\": \"North Dakota\"\n                                },\n                                \"39\": {\n                                  \"stateAbbr\": \"OH\",\n                                  \"name\": \"Ohio\"\n                                },\n                                \"40\": {\n                                  \"stateAbbr\": \"OK\",\n                                  \"name\": \"Oklahoma\"\n                                },\n                                \"41\": {\n                                  \"stateAbbr\": \"OR\",\n                                  \"name\": \"Oregon\"\n                                },\n                                \"42\": {\n                                  \"stateAbbr\": \"PA\",\n                                  \"name\": \"Pennsylvania\"\n                                },\n                                \"44\": {\n                                  \"stateAbbr\": \"RI\",\n                                  \"name\": \"Rhode Island\"\n                                },\n                                \"45\": {\n                                  \"stateAbbr\": \"SC\",\n                                  \"name\": \"South Carolina\"\n                                },\n                                \"46\": {\n                                  \"stateAbbr\": \"SD\",\n                                  \"name\": \"South Dakota\"\n                                },\n                                \"47\": {\n                                  \"stateAbbr\": \"TN\",\n                                  \"name\": \"Tennessee\"\n                                },\n                                \"48\": {\n                                  \"stateAbbr\": \"TX\",\n                                  \"name\": \"Texas\"\n                                },\n                                \"49\": {\n                                  \"stateAbbr\": \"UT\",\n                                  \"name\": \"Utah\"\n                                },\n                                \"50\": {\n                                  \"stateAbbr\": \"VT\",\n                                  \"name\": \"Vermont\"\n                                },\n                                \"51\": {\n                                  \"stateAbbr\": \"VA\",\n                                  \"name\": \"Virginia\"\n                                },\n                                \"53\": {\n                                  \"stateAbbr\": \"WA\",\n                                  \"name\": \"Washington\"\n                                },\n                                \"54\": {\n                                  \"stateAbbr\": \"WV\",\n                                  \"name\": \"West Virginia\"\n                                },\n                                \"55\": {\n                                  \"stateAbbr\": \"WI\",\n                                  \"name\": \"Wisconsin\"\n                                },\n                                \"56\": {\n                                  \"stateAbbr\": \"WY\",\n                                  \"name\": \"Wyoming\"\n                                },\n                                \"60\": {\n                                  \"stateAbbr\": \"AS\",\n                                  \"name\": \"American Samoa\"\n                                },\n                                \"66\": {\n                                  \"stateAbbr\": \"GU\",\n                                  \"name\": \"Guam\"\n                                },\n                                \"69\": {\n                                  \"stateAbbr\": \"MP\",\n                                  \"name\": \"Northern Mariana Islands\"\n                                },\n                                \"72\": {\n                                  \"stateAbbr\": \"PR\",\n                                  \"name\": \"Puerto Rico\"\n                                },\n                                \"74\": {\n                                  \"stateAbbr\": \"UM\",\n                                  \"name\": \"U.S. Minor Outlying Islands\"\n                                },\n                                \"78\": {\n                                  \"stateAbbr\": \"VI\",\n                                  \"name\": \"U.S. Virgin Islands\"\n                                },\n                                \"01\": {\n                                  \"stateAbbr\": \"AL\",\n                                  \"name\": \"Alabama\"\n                                },\n                                \"02\": {\n                                  \"stateAbbr\": \"AK\",\n                                  \"name\": \"Alaska\"\n                                },\n                                \"04\": {\n                                  \"stateAbbr\": \"AZ\",\n                                  \"name\": \"Arizona\"\n                                },\n                                \"05\": {\n                                  \"stateAbbr\": \"AR\",\n                                  \"name\": \"Arkansas\"\n                                },\n                                \"06\": {\n                                  \"stateAbbr\": \"CA\",\n                                  \"name\": \"California\"\n                                },\n                                \"08\": {\n                                  \"stateAbbr\": \"CO\",\n                                  \"name\": \"Colorado\"\n                                },\n                                \"09\": {\n                                  \"stateAbbr\": \"CT\",\n                                  \"name\": \"Connecticut\"\n                                }\n                              };\n\n              var us = scope.geoLocation.data;\n              var margin = {top: 5, left: 5, bottom: 5, right: 5};\n              var mapRatio = 1.1;\n\n\n\n              var width,height,projection,path,states;\n              width= element[0].parentNode.clientWidth,\n              width = width - margin.left - margin.right,\n              height = Math.round(width * mapRatio);\n\n              if (height > 320) {\n                  height = 310;\n              }\n\n              projection = d3.geo.albersUsa().scale(width/1.2).translate([width/2,height/2]);\n              path = d3.geo.path().projection(projection);\n\n\n              var map = d3.select(element[0].parentNode).append(\"svg\").attr({\"width\":width,\"height\":height});\n\n              // draw states\n              var states = map.selectAll('path.state')\n              .data(topojson.feature(us, us.objects.states).features)\n              .enter().append('path')\n              .attr('class','state')\n              .attr('id',function(d) {\n                  var code = d.id+'' ;\n                  if (d.id<10) {code = '0' + code}\n                  var stateName = stateCode[code].name.toLowerCase().replace(/\\s/g, '-');\n                  return stateName;\n              })\n              .attr('d', path);\n\n\n              //mouse over events\n               states.on('mouseover', tooltipShow)\n               .on('mouseout', tooltipHide);\n\n\n              //draw border\n              map\n              .append('path')\n              .datum(topojson.mesh(us, us.objects.states))\n              .attr('class','land')\n              .attr('d',path);\n\n               function renderColor()  {\n                  states.style('fill',function(d,i) {\n                       var randomColor= [Math.floor(Math.random()*10+5),Math.floor(Math.random()*20+40),Math.floor(Math.random()*155+100)];\n\n                       return 'rgb('+randomColor[0]+','+randomColor[1]+','+randomColor[2]+')'});\n              }\n              renderColor();\n\n              var colorRenderLoop = setInterval(\n                  function() {\n                      renderColor();\n\n                  }\n              ,3000);\n\n              //mouse resize\n              d3.select(window).on('resize', resize);\n\n              function resize() {\n                  width = element[0].parentNode.clientWidth;\n                  width = width - margin.left - margin.right;\n                  height = width * mapRatio;\n\n\n                  if (height > 320) {\n                      height = 310;\n                  }\n\n                  projection.translate([width/2, height/2]).scale(width/1.2);\n                  //\n                  // // resize the map container\n                  map.style('width', width + 'px')\n                     .style('height', height + 'px');\n\n                      map.selectAll('.land').attr('d',path);\n                      map.selectAll('.state').attr('d', path);\n              }\n\n              //tooltip for mouse event\n              var tooltip;\n\n              function tooltipShow(d, i) {\n                  var color = d3.select(this).style('fill');\n                  var code = d.id+'' ;\n                  if (d.id<10) {code = '0' + code}\n                  var datum = stateCode[code];\n                  var stateName = datum.name;\n                  if (!datum) return;\n\n                  tooltip = d3.select(this.parentNode).append(\"text\");\n                  tooltip\n                  .attr(\"x\", 15)\n                  .attr(\"y\", 30)\n                  .text(stateName+': ' + color)\n                  .attr(\"font-family\", \"sans-serif\")\n                  .attr(\"font-size\", \"15px\")\n                  .style('fill','red');\n\n              }\n\n              function tooltipHide(d, i) {\n                  tooltip.remove();\n              }\n\n          }\n      };\n\n      return directive;\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .directive('barChart', barChart);\n\n    /** @ngInject */\n\n    function barChart() {\n      var directive = {\n                  restrict: 'E',\n                  replace: false,\n                  scope: { rows : '=rows', chartId : '=chartId'},\n                  link: function(scope,element,attrs) {\n\n                    var template = '<div id=\"'+scope.chartId+'\"></div>';\n                    element.html(template);\n\n                    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n                    var colors = ['#5cd3ff','#47ceff','#33c9ff','#1fc3ff','#00bbff','#00b4f5','#00a5e0','#0096cc','#0087b8','#0078a3','#00698f', '#005a7a'];\n                    var chart = c3.generate({\n                                  bindto: '#' + scope.chartId,\n                                  data: {\n                                    type:'bar',\n                                    columns: scope.rows,\n                                    colors: {\n                                      d1: function(d) {\n                                        return colors[d.index];\n                                      }\n                                    }\n                                  },\n                                  bar: {\n                                    width: {\n                                        ratio: 0.8\n                                    }\n                                  },\n                                  axis: {\n                                      y: {\n                                          max:60,\n                                          min: 0,\n                                          padding: {top:0, bottom:0},\n                                          tick: {\n                                            format: function(d) {\n                                              return d + 'k'\n                                            }\n                                          }\n                                      },\n                                      x: {\n                                        type: 'category',\n                                        tick: {\n                                          format: function(d) {\n                                            console.log('d',d);\n                                            return months[d].slice(0, d !== 8 ? 3 : 4);\n                                          }\n                                        }\n                                      }\n                                  },\n                                  legend: {\n                                    show: false\n                                  },\n                                  padding: {\n                                    top:10,\n                                    right:20\n                                  },\n                                  grid: {\n                                    y: {\n                                        show: true\n                                    }\n                                  },\n                                  tooltip: {\n                                    format: {\n                                      title: function(d) {\n                                        return months[d];\n                                      },\n                                      value: function (x) {\n                                        return '$ '+ d3.format(',')((1000 * x).toFixed(2));\n                                      }\n                                    }\n                                  }\n                              });\n\n                    scope.$watch('rows',function() {\n                      chart.load({columns: scope.rows});\n                    });\n              }\n      };\n\n      return directive;\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, $http, $interval,geoLocation) {\n      $scope.geoChartId = 'geo';\n      $scope.geoLocation = geoLocation;\n\n\n\n\n\n      $scope.pieChartId = 'pieChart';\n      var pieData = new pieDataCreator();\n      pieData.setLength(12);\n      pieData.setAverageAndVariance('d1',50,30);\n      pieData.setAverageAndVariance('d2',25,20);\n      pieData.setAverageAndVariance('d3',80,20);\n      pieData.setAverageAndVariance('d4',25,5);\n      $scope.pieRows = pieData.getData();\n\n      $scope.pieInterval = $interval(function() {\n        $scope.pieRows = pieData.getData();\n      }, 2000);\n\n      function pieDataCreator() {\n        return {\n          length: 0,\n          data: {\n            d1: {\n              array: [],\n              average: 0,\n              variance: 0\n            },\n            d2: {\n              array: [],\n              average: 0,\n              variance: 0\n            },\n            d3: {\n              array: [],\n              average: 0,\n              variance: 0\n            },\n            d4: {\n              array: [],\n              average: 0,\n              variance: 0\n            }\n          },\n          setAverageAndVariance: function(name, average, variance) {\n            this.data[name]['average'] = average;\n            this.data[name]['variance'] = variance;\n          },\n          setLength: function(length) {\n            this.length = length;\n          },\n          getData: function() {\n            var _this = this;\n            return Object.keys(_this.data).map(function(key) {\n              var array = [];\n              array.push(key);\n              var length = _this.length;\n              var average = _this.data[key].average;\n              var variance = _this.data[key].variance;\n              for (var i =0; i < length; i++) {\n                array.push(_this.getNumber(average, variance));\n              }\n              return array;\n            })\n          },\n          getNumber: function(average, variance) {\n            return average + (0.5 - Math.random()* variance);\n          }\n        }\n      }\n\n      $scope.barChartId = 'barChart';\n\n      $scope.barRows = $scope.pieRows.slice(0,1);\n\n        console.log('$scope.pieData',$scope.barRows);\n\n      //lineChart\n      $scope.lineChartId = 'lineChart';\n      var lineData = new lineDataCreator();\n      lineData.setLength(12);\n      lineData.setAverageAndVariance('d1Data',55,15);\n      lineData.setAverageAndVariance('d2Data',30,20);\n\n      $scope.lineRows =  lineData.getInitialArray();\n      $scope.lineInterval = $interval(function() {\n             $scope.lineRows = lineData.getUpdatedArray();\n      }, 5000);\n\n      function lineDataCreator() {\n        return {\n          length: 0,\n          data: {\n            xData: {\n              array: ['x'],\n              average: 0,\n              variance: 0\n            },\n            d1Data: {\n              array: ['d1'],\n              average: 0,\n              variance: 0\n            },\n            d2Data: {\n              array: ['d2'],\n              average: 0,\n              variance: 0\n            }\n          },\n          setAverageAndVariance: function(name, average, variance) {\n            this.data[name]['average'] = average;\n            this.data[name]['variance'] = variance;\n          },\n          setLength: function(length) {\n            this.length = length;\n          },\n          getInitialArray: function(number) {\n            var _this = this;\n            return Object.keys(_this.data).map(function(key) {\n              var array = _this.data[key].array;\n              var length = _this.length;\n              var average = _this.data[key].average;\n              var variance = _this.data[key].variance;\n              for (var i =0; i < length; i++) {\n                if (key === 'xData') {\n                    array.push(i);\n                } else {\n                    array.push(_this.getNumber(average, variance));\n                  }\n              }\n              return array;\n            })\n          },\n          getUpdatedArray: function() {\n            var _this = this;\n            return Object.keys(this.data).map(function(key) {\n              var array = _this.data[key].array;\n              var length = _this.length;\n              var average = _this.data[key].average;\n              var variance = _this.data[key].variance;\n              array.splice(1,1);\n              if (key === 'xData') {\n                  array.push(+array[array.length-1] + 1);\n              } else {\n                  array.push(_this.getNumber(average, variance))\n              }\n              return array;\n\n            })\n          },\n          getNumber: function(average, variance) {\n            return average + (0.5 - Math.random()* variance);\n          }\n        }\n      }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n    $log.debug('check c3', c3);\n    $log.debug('check topojson', topojson);\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .config(routeConfig);\n\n  function routeConfig($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main',\n        resolve: {\n                  'geoLocation': [\n                  '$http',\n                      function($http) {\n                          return $http.get('app/data/us.json')\n                            .success(function (response) {\n                              return response.data;\n\n                            })\n                      }\n                  ]\n                }\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .constant('moment', moment)\n    .constant('d3', d3)\n    .constant('c3', c3)\n    .constant('topojson', topojson);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('vizbox')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"vizbox\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div><acme-navbar creation-date=\\\"main.creationDate\\\"></acme-navbar></div><div class=\\\"row\\\"><div class=\\\"col-sm-6 col-md-6\\\"><div class=\\\"thumbnail\\\"><line-chart rows=\\\"lineRows\\\" chart-id=\\\"lineChartId\\\"></line-chart></div></div><div class=\\\"col-sm-6 col-md-6\\\"><div class=\\\"thumbnail\\\"><bar-chart rows=\\\"barRows\\\" chart-id=\\\"barChartId\\\"></bar-chart></div></div><div class=\\\"col-sm-6 col-md-8\\\"><div class=\\\"thumbnail\\\"><geo-chart chart-id=\\\"geoChartId\\\" geo-location=\\\"geoLocation\\\"></geo-chart></div></div><div class=\\\"col-sm-6 col-md-4\\\"><div class=\\\"thumbnail\\\"><pie-chart rows=\\\"pieRows\\\" chart-id=\\\"pieChartId\\\"></pie-chart></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"\\\"><span class=\\\"glyphicon glyphicon-flash\\\"></span></a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\"></ul></div></div></nav>\");}]);"],"sourceRoot":"/source/"}